import{d as j,r as y,x as I,e as a,l as m,o as n,f as l,n as u,u as p,F as R,j as U,g as V,t as b,h as z,y as B,z as D,m as F,T as M}from"./app-BoJiNKhG.js";const S={key:0,class:"w-full"},_={class:"borders flex items-center gap-2 borders-gray-200 group w-full"},J={class:"block mb-2 text-[12px] font-medium lowercase text-gray-700"},P={class:"relative w-full h-8"},G=["type","disabled","onInput","onUpdate:modelValue"],O=j({__name:"ItemTimeAllocationComponent",props:{allocation:{}},emits:["update:allocation","removeItem","save","delete","sendEmail"],setup(g,{emit:f}){const v=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];let s=y(!1);const h=g,i=f,w=()=>{i("removeItem")},x=()=>{s.value=!0,i("delete",e=>{e&&(s.value=!1)})},d=I({get:()=>h.allocation,set:e=>i("update:allocation",e)}),C=e=>v.reduce((o,r)=>{const t=Number(e[r])||0;return o+t},0),A={agreement:"AGREEMENT",bus:"BUS",jan:"JAN",feb:"FEB",mar:"MAR",apr:"APR",may:"MAY",jun:"JUN",jul:"JUL",aug:"AUG",sep:"SEP",oct:"OCT",nov:"NOV",dec:"DEC",total:"Total"},c=["id","total","agreement","bus"],E=(e,o)=>{d.value.total=C(d.value)},N=(e,o)=>c.includes(e)?"0":o?`${o>100?100:o}%`:"0";return(e,o)=>e.allocation?(n(),a("div",S,[l("div",_,[l("div",{class:u(["flex w-full items-start p-2 transition-all duration-75 rounded-md cursor-pointer mb-2 hover:bg-blue-50",e.allocation.id?"bg-gray-100":"bg-red-50",p(s)?"bg-red-300":""])},[(n(),a(R,null,U(A,(r,t)=>l("div",{class:"w-full text-center",key:t},[l("label",J,b(r),1),l("div",P,[l("div",{class:"absolute inset-0 bg-green-300 transition-all duration-200 rounded",style:B({width:N(t,e.allocation[t]),zIndex:0})},null,4),z(l("input",{type:t==="agreement"||t==="bus"?"text":"number",min:"0",max:"100",disabled:t==="total"||p(s),class:u([{"bg-yellow-400":t==="total"},"relative z-10 w-full h-full border text-center text-sm border-gray-300 focus:outline-none focus:ring-2 focus:rounded-md focus:ring-green-500 focus:border-green-500"]),onInput:()=>E(e.allocation[t],e.index),"onUpdate:modelValue":T=>e.allocation[t]=T},null,42,G),[[D,e.allocation[t]]])]),V(M,{name:"fade-slide",mode:"out-in"},{default:F(()=>[c.includes(t)?m("",!0):(n(),a("span",{key:e.allocation[t],class:"text-[11px] font-bold block"},b(e.allocation[t])+"% ",1))]),_:2},1024)])),64))],2),l("div",null,[e.allocation.id?(n(),a("button",{key:1,class:u(["cursor-pointer group-hover:inline-block hidden","p-1 cursor-pointer"]),onClick:x},o[1]||(o[1]=[l("span",{class:"text-red-500"},[l("i",{class:"uil uil-trash-alt"})],-1)]))):(n(),a("button",{key:0,onClick:o[0]||(o[0]=r=>w()),type:"button",class:"p-1 cursor-pointer"},"Ã—"))])])])):m("",!0)}});export{O as _};
